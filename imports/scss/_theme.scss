$themes: (
  'dark': (
    primary-color: #00a884,
    secondary-color: #00ee00,
    background-dark: #dfe0dd,
    background-medium: #f8f9fb,
    background-light: #ffffff,
    text-color-dark: #111b21,
    text-color-medium: #4b5961,
    text-color-light: #929fa6,
    border-color: #e1e9eb,
    link-color: #53bdeb,
    icon-color: #54656f,
  ),
  'light': (
    primary-color: #00a884,
    secondary-color: #00ee00,
    background-dark: #dfe0dd,
    background-medium: #f8f9fb,
    background-light: #ffffff,
    text-color-dark: #111b21,
    text-color-medium: #4b5961,
    text-color-light: #929fa6,
    border-color: #e1e9eb,
    link-color: #53bdeb,
    icon-color: #54656f,
  ),
);

// https://www.zaratan.fr/next-refactor-theme-scss#refactor-avec-des-fonctions-scss
@mixin themed() {
  @each $theme, $map in $themes {
    .theme--#{$theme} & {
      $theme-map: () !global;
      @each $key, $submap in $map {
        $value: map-get(map-get($themes, $theme), '#{$key}');
        $theme-map: map-merge(
          $theme-map,
          (
            $key: $value,
          )
        ) !global;
      }
      @content;
      $theme-map: null !global;
    }
  }
}

@function t($key) {
  @return map-get($theme-map, $key);
}
